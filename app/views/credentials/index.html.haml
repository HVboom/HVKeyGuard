%h1 Listing credentials

.filter.container
  = simple_form_for '', method: :get do |f|
    = f.input_field :title_filter, placeholder: 'Title', required: false
    or
    = f.input_field :url_filter, placeholder: 'URL', required: false, as: :string
    = f.button :submit, 'Search'

%br

.table-responsive.container
  %table.table.table-striped
    %thead
      %tr
        %th Title
        %th Url
        %th Login
        %th Document
        %th Comment
        %th
        %th
        %th

    %tbody
      -@credentials.each do |credential|
        %tr
          %td= credential.title
          %td= link_to truncate(credential.url, length: 30, separator: '/'), credential.url, target: :_blank
          %td= credential.login
          -unless credential.secured
            %td= simple_format(credential.document)
          -else
            %td= '***'
          %td= simple_format(credential.comment)
          %td= link_to 'Edit', edit_credential_path(credential)
          %td= link_to 'Destroy', credential, method: :delete, data: { confirm: 'Are you sure?' }

%br

= link_to 'New Credential', new_credential_path, class: 'btn btn-primary'
